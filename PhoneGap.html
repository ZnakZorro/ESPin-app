<html><head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script type="text/javascript" charset="utf-8" src="cordova.js"></script>
<script>
'use strict';
var url='http://82.145.73.185/';
function ax(u,b){fetch(url+u).then(function(ret){return ret.text();}).then(function(d){try {var j = JSON.parse(d);if(j) {displayState(j)}} catch(err) {console.log(err)}$(b).innerHTML=d;});}


	// DOM READY
	function onDeviceReady() {
		//if (localStorage.getItem("___espin___app")) wybraneRadio = localStorage.getItem("___espin___app");
	}
	

   function onLoad() {
        document.addEventListener("deviceready", onDeviceReady, false);

		try {if (device.uuid) {console.log(device.uuid);}	}
		catch(err) {onDeviceReady();}
		
	}



</script>
<title>ESPin_S</title>
<link href="a.css" rel="stylesheet">
</head>
<body onload="onLoad();" >
<span id="nono" style="display:none"></span>
<div class="c"><div class="r">
<h3>ESPin server <i id="czas">1:20:48</i></h3><i id="time">11:18:45</i>
<div id="tmpl" class="sta"><div id="top"><div>
<span id="led5" class="b pin0">5</span> <span id="led6" class="b pin0">6</span> <span id="led7" class="b pin0">7</span>
 &nbsp; 
<button onclick="ax('type=ajax&amp;pin=x&amp;state=1','info')" class="b">ON</button>
<button onclick="ax('type=ajax&amp;pin=x&amp;state=0','info')" class="b">OFF</button>
</div>
<div>
<button onclick="ax('type=ajax&amp;pin=5&amp;state=2&amp;delay=15','info')">15s</button>
<button onclick="ax('type=ajax&amp;pin=5&amp;state=2&amp;delay=300','info')">5m</button>
<button onclick="ax('type=ajax&amp;pin=5&amp;state=2&amp;delay=900','info')">15m</button>
<button onclick="ax('type=ajax&amp;pin=5&amp;state=2&amp;delay=1800','info')">30m</button>
<i id="time"></i>
</div>
</div><div id="pin5" class="pin0"><div class="l">
<button class="b" onclick="ax('type=ajax&amp;pin=5&amp;state=2','info')">Pin 5</button>
<button onclick="ax('type=ajax&amp;pin=5&amp;state=1','info')">ON</button>
<button onclick="ax('type=ajax&amp;pin=5&amp;state=0','info')">off</button>
<button onclick="ax('type=ajax&amp;pin=5&amp;state=2&amp;delay=3600','info')">1h</button>
<h2 id="time5">00 00 00</h2>
</div>

<div class="l">
<input id="st5" type="range" min="0" max="170" value="0" onchange="sTime(5,this.value)">
</div>

<div class="l ca" style="display:none">
Start <input type="time" id="dt51"><br>Stop <input type="time" id="dt50">
 &nbsp; <button onclick="scl(5)">Set</button>
 &nbsp; <button onclick="setClocs()">0</button>
<i class="w" id="pwm5">PWM</i>
<input id="s5" type="range" min="0" max="1023" value="0" step="20" class="x" onchange="suwak(5,this.value)">
</div>
</div><div id="pin6" class="pin0"><div class="l">
<button class="b" onclick="ax('type=ajax&amp;pin=6&amp;state=2','info')">Pin 6</button>
<button onclick="ax('type=ajax&amp;pin=6&amp;state=1','info')">ON</button>
<button onclick="ax('type=ajax&amp;pin=6&amp;state=0','info')">off</button>
<button onclick="ax('type=ajax&amp;pin=6&amp;state=2&amp;delay=3600','info')">1h</button>
<h2 id="time6">00 00 00</h2>
</div>

<div class="l">
<input id="st6" type="range" min="0" max="170" value="0" onchange="sTime(6,this.value)">
</div>

<div class="l ca" style="display:none">
Start <input type="time" id="dt61"><br>Stop <input type="time" id="dt60">
 &nbsp; <button onclick="scl(6)">Set</button>
 &nbsp; <button onclick="setClocs()">0</button>
<i class="w" id="pwm6">PWM</i>
<input id="s6" type="range" min="0" max="1023" value="0" step="20" class="x" onchange="suwak(6,this.value)">
</div>
</div><div id="pin7" class="pin0"><div class="l">
<button class="b" onclick="ax('type=ajax&amp;pin=7&amp;state=2','info')">Pin 7</button>
<button onclick="ax('type=ajax&amp;pin=7&amp;state=1','info')">ON</button>
<button onclick="ax('type=ajax&amp;pin=7&amp;state=0','info')">off</button>
<button onclick="ax('type=ajax&amp;pin=7&amp;state=2&amp;delay=3600','info')">1h</button>
<h2 id="time7">00 00 00</h2>
</div>

<div class="l">
<input id="st7" type="range" min="0" max="170" value="0" onchange="sTime(7,this.value)">
</div>

<div class="l ca" style="display:none">
Start <input type="time" id="dt71"><br>Stop <input type="time" id="dt70">
 &nbsp; <button onclick="scl(7)">Set</button>
 &nbsp; <button onclick="setClocs()">0</button> 
<i class="w" id="pwm7">PWM</i>
<input id="s7" type="range" min="0" max="1023" value="0" step="20" class="x" onchange="suwak(7,this.value)">
</div>
</div><div id="extra">
<div>
<button onclick="ax('type=ajax&amp;retry=3','info')" id="adc" style="font-size:1.75em; width:80%; margin:2%;">0.008 V</button>
</div>
<div>
<button onclick="extra()">Extra</button>
<button onclick="ax('type=system&amp;act=ap','info')">AP</button>
<button onclick="ax('type=system&amp;act=sta','info')">STA</button>
<button onclick="sendTime()">Sync</button>
</div>
<div>
<button onclick="ax('type=exe&amp;app=getNews','info')">get News</button>
<button onclick="ax('type=exe&amp;app=getCheer','info')">get Cheer</button>
</div>



<style>.w{position:absolute;bottom:0.2em;right:0.2em;}</style>
</div></div>
<div id="cheer" style="background: rgb(0, 0, 0);"></div>
<div id="info" class="x"></div>
<button class="x" onclick="ax('type=system&amp;act=restart','info')">Restart</button>
</div></div>
<script src="main.js"></script>
<script src="a.js"></script>
<script src="z.js"></script>
<script>
var url='http://82.145.73.185/';
</script>
</body></html>